ckdc.window=jQuery(window),ckdc.html=jQuery("html"),ckdc.body=jQuery("body");var nav_btn=document.getElementById("nav-btn");nav_btn&&nav_btn.addEventListener("click",function(){document.body.classList.contains("menu-active")||(localStorage.cachedScrollPos=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop),document.body.classList.toggle("menu-active"),document.body.classList.remove("search-active"),document.body.classList.contains("menu-active")||window.scrollTo(0,localStorage.cachedScrollPos)}),window.closeSearch=function(e,t){var a=document.body;!t&&"Escape"!=e.key&&~["FORM","INPUT","BUTTON"].indexOf(e.target.tagName)||(a.classList.remove("search-active"),a.removeEventListener("click",window.closeSearch),a.removeEventListener("keydown",window.closeSearch))},window.toggleSearch=function(e){var t=document.body.classList;t.contains("search-active")?window.closeSearch(e,!0):(t.remove("menu-active"),t.add("search-active"),document.getElementById("header-search-field").focus(),document.body.addEventListener("click",window.closeSearch),document.body.addEventListener("keydown",window.closeSearch),e.stopPropagation())};var search_btn=document.getElementById("search-btn");function ckdc_print_page(){return jQuery("body").addClass("force-horizontal"),ckdc.image.updateAllOrientation(),jQuery("#huge-feature-image").removeAttr("style"),jQuery("#huge-feature-image-inner").removeAttr("style"),jQuery(".huge-feature-content").removeAttr("style"),setTimeout(function(){window.print()},200),!1}search_btn&&document.getElementById("search-btn").addEventListener("click",window.toggleSearch),ckdc.require([],function(e){var t={},a={},n=!1;function o(t){void 0===t&&(t=ckdc.html),function(t){e(".jssubmit",t).off("click.ckdc").on("click.ckdc",function(t){return e(t.target).closest("form").submit(),t.preventDefault(),!1}),e(".js-link",t).off("click.ckdc").on("click.ckdc",function(t){var a=e(this).data("href");return a.length>0&&(document.location.href=a),t.preventDefault(),!1}),e("body").on("click","a.social-popup",function(e){return window.open(e.currentTarget.getAttribute("href"),"sharer","toolbar=0,status=0,width=626,height=436"),!1})}(t),function(){function e(e){var t=document.createElement("a");return t.href=e,t.hostname}var t=document.referrer;if(!t||!t.length)return!0;var a=e(t);if(!a.length)return!1;var n=e(window.location.href);if(!n.length)return!1;return n==a}()&&ckdc.body.addClass("new-visit"),e.each(a,function(e,a){"function"==typeof a&&a(t)})}function s(e){if(!e.length)return null;var t=e.data("tab");return ckdc.util.isEmpty(t)?null:t}function i(e){var t=e.hasClass("tab-menu-item-prev"),a=e.hasClass("tab-menu-item-next");if(t||a){var n=e.siblings(".tab-menu-item.selected");if(!n.length)return e;if(t)return n.prev(".tab-menu-item");if(a)return n.next(".tab-menu-item")}return e}function c(t){var a=e(t.target);if(t.preventDefault(),a.hasClass("selected"))return!1;var n=i(a),r=s(n);if(null===r)return!1;var o=n.closest(".jstabs");return o.find(".tab-menu .tab-menu-item").removeClass("selected"),o.find(".jstabs-tab").removeClass("selected").hide(),n.addClass("selected"),o.find(".tab-"+r).fadeIn(200,function(){e(this).addClass("selected").trigger("tab")}),!1}function d(t){var a=e(t.target);if(t.preventDefault(),a.hasClass("selected"))return!1;var n=i(a),r=s(n);if(null===r)return!1;var o=a.closest(".jstabs-tab");return o.find(".tab-submenu .tab-menu-item").removeClass("selected"),o.find(".jstabs-subtab").removeClass("selected").hide(),n.addClass("selected"),o.find(".subtab-"+r).fadeIn(200,function(){e(this).addClass("selected").trigger("subtab")}),!1}n=!0,e.each(t,function(e,t){"function"==typeof t&&t()}),o(ckdc.html),ckdc.setup={addSetupOnce:function(e,a){t[e]=a,n&&a(ckdc.html)},removeSetupOnce:function(e){void 0!==t.key&&delete t[e]},addSetupContent:function(e,t){a[e]=t,n&&t(ckdc.html)},removeSetupContent:function(e){void 0!==a.key&&delete a[e]},setupContent:function(e){return o(e),ckdc.html.trigger("ckdc-content-loaded"),e}},ckdc.util={isEmpty:function(t){return null==t||("object"==typeof t?t.hasOwnProperty("length")?!t.length:e.isEmptyObject(t):"string"==typeof t?!(t=e.trim(t)).length:!t)},parseJSON:function(t){try{return"function"==typeof JSON.parse?JSON.parse(t):"function"==typeof e.parseJSON?e.parseJSON(t):null}catch(e){return null}}},e.isFunction(e.fn.hasDataAttr)||e.fn.extend({hasDataAttr:function(e){return void 0!==this.attr("data-"+e)}}),ckdc.css={getSizeName:function(){var e=window.innerWidth;return e>ckdc.fullSizeBreakpoint?"full":e>600?"pad":window.devicePixelRatio>1?"hd-mobile":"tiny"},getSize:function(){var t=e("#windowsize");if(t.length)return t.css("content").replace(/["']/g,"");switch(ckdc.util.getWindowSizeName()){case"full":return"L";case"pad":return"M";case"hd-mobile":case"tiny":return"S";default:return"L"}}},ckdc.preview={extraImagesHandling:function(t){var a=t.find(".extra-images-container");if(a.data("ei")){var n=unescape(a.data("ei"));a.data("ei","").removeAttr("data-ei"),a.append(n)}if(a.length>0){var r=a.children(".extra-image");if(void 0===ckdc.preview.extraImagesHandling.counter&&(ckdc.preview.extraImagesHandling.counter=0),++ckdc.preview.extraImagesHandling.counter,r.length>0){var o=100;t.addClass("ei-not-ready"),r.each(function(a,n){var r=e(n);r.prop("complete")?(o=2e3,t.removeClass("ei-not-ready")):r.addClass("not-loaded")}),a.data("loaded")||(r.slice(1).addClass("rotate"),a.data("loaded",1)),"undefined"!=typeof lazyloader&&lazyloader.update();var s=ckdc.preview.extraImagesHandling.counter;setTimeout(function(){ckdc.preview.rotateExtraImages(t,s)},o)}}},rotateExtraImages:function(t,a){var n=2e3,r=t.find(".extra-image.not-loaded");r.length>0&&r.each(function(t,a){var n=e(a);n.prop("complete")&&n.removeClass("not-loaded")});var o=t.find(".extra-image:not(.not-loaded)");if(o.length<=0)n=100;else{var s=o.filter(".extra-image.rotate:not(.hide)").last();0==s.length?(s=o.filter(".extra-image.rotate")).removeClass("hide"):s.addClass("hide"),t.hasClass("ei-not-ready")&&(t.find(".extra-image").removeClass("hide"),t.removeClass("ei-not-ready"))}t.hasClass("selected")&&a==ckdc.preview.extraImagesHandling.counter&&setTimeout(function(){ckdc.preview.rotateExtraImages(t,a)},n)}},ckdc.ajax={url:ckdc.ajaxurl,blockingElement:null,statusEnum:{pending:"pending",done:"done",fail:"fail"},call:function(t,a,n){if("string"!=typeof t||!t.length)return null;"object"!=typeof a&&(a={});var o={isSuccess:null,callStatus:ckdc.ajax.statusEnum.pending,serverStatus:0,response:{status:null,data:null,message:null},hasData:null,hasMessage:null,ajaxAction:t,ajaxData:a,responseText:null,jqXHR:null},s=function(t,a){var n=[{name:"action",value:a}];return ckdc.util.isEmpty(t)?n:(e.each(t,function(e,t){"object"==typeof t&&t.hasOwnProperty("name")&&t.hasOwnProperty("value")?n.push(t):n.push({name:e,value:t})}),n)}(a,t);return o.jqXHR=e.post(ckdc.ajax.url,s).always(function(){o.serverStatus=o.jqXHR.status,o.callStatus=200==o.serverStatus?ckdc.ajax.statusEnum.done:ckdc.ajax.statusEnum.fail,o.responseText=o.jqXHR.responseText,r=ckdc.util.parseJSON(o.responseText),ckdc.ajax.resultValid(r)?(o.isSuccess=r.status>=0,o.response.status=r.status,r.hasOwnProperty("data")&&(ckdc.util.isEmpty(r.data)||(o.hasData=!0),o.response.data=r.data),r.hasOwnProperty("msg")&&(ckdc.util.isEmpty(r.msg)||(o.hasMessage=!0),o.response.message=r.msg)):(o.isSuccess=!1,o.hasData=!1,o.hasMessage=!1,o.response.status=-1),"function"==typeof n&&n(o.response.data,o)}),o},resultValid:function(e){return"object"==typeof e&&!ckdc.util.isEmpty(e)&&e.hasOwnProperty("status")},startAjaxElement:function(e,t){return null==ckdc.ajax.blockingElement&&(!e.hasClass("disabled")&&(!e.hasClass("ajax-working")&&((t=void 0!==t&&!!t)&&(ckdc.ajax.blockingElement=e,ckdc.body.addClass("ajax-blocking")),e.addClass("ajax-working"),!0)))},endAjaxElement:function(e){null!=ckdc.ajax.blockingElement&&e.is(ckdc.ajax.blockingElement)&&(ckdc.ajax.blockingElement=null,ckdc.body.removeClass("ajax-blocking")),e.removeClass("ajax-working")},startAjaxButton:function(e,t){return!!ckdc.ajax.startAjaxElement(e,t)&&(e.addClass("busy").append('<span class="ajax-working-spinner"><i class="fa fa-spinner fa-pulse" aria-hidden="true"></i></span>'),!0)},endAjaxButton:function(e){e.removeClass("busy").find(".ajax-working-spinner").remove(),ckdc.ajax.endAjaxElement(e)},startAjaxEvent:function(t){return t.preventDefault(),ckdc.ajax.startAjaxElement(e(t.target))},endtAjaxEvent:function(t){ckdc.ajax.endAjaxElement(e(t.target))}},ckdc.setup.addSetupContent("tabs",function(t){e(".jstabs .tab-menu .tab-menu-item",t).off("click.jstabs").on("click.jstabs",c),e(".jstabs .tab-submenu .tab-menu-item",t).off("click.tabs").on("click.tabs",d)}),ckdc.image={setOrientation:function(e,t){var a="img-"+t;e.hasClass(a)||(e.removeClass("img-vertical img-horizontal").addClass(a),e.attr("src",e.data(a+"-src")),e.attr("srcset",e.data(a+"-srcset")))},forceOrientation:function(e,t){var a="force-img-"+t;e.hasClass(a)||(e.removeClass("force-img-vertical force-img-horizontal").addClass("force-orientation "+a),ckdc.image.setOrientation(e,t))},clearForceOrientation:function(e){e.removeClass("force-img-vertical force-img-horizontal force-orientation"),ckdc.image.updateOrientation(e)},updateOrientation:function(e){e.hasClass("force-orientation")||ckdc.image.setOrientation(e,ckdc.orientation)},updateAllOrientation:function(t){ckdc.orientation=ckdc.getWindowOrientation();var a="img-"+ckdc.orientation;if(void 0===t||ckdc.body.is(t)){if(ckdc.body.hasClass(a))return;ckdc.body.removeClass("img-vertical img-horizontal").addClass(a),t=ckdc.body}var n=e(".img-dual-src",t);n.length&&n.each(function(){ckdc.image.updateOrientation(e(this))})},forceAllOrientation:function(t,a){var n=e(".img-dual-src",a);n.length&&n.each(function(){ckdc.image.forceOrientation(e(this),t)})},setupContent:function(e){ckdc.image.updateAllOrientation(e)}},ckdc.setup.addSetupContent("img-dual",ckdc.image.setupContent),e(".membership-content li").length>0&&e(".membership-content li").on("click",function(){e(this).toggleClass("open")}),ckdc.form={clearFormValidation:function(t){(t=e(t)).find(".error").removeClass("error"),t.find(".error-msg").removeClass("error-msg").html(""),t.find(".success").removeClass("success")},addInputError:function(t,a){(t=e(t).parents(".form-row")).addClass("error");var n=t.find(".error-msg");n.length||(n=e('<div class="error-msg"></div>'),t.append(n)),n.html(a)},ddCheckbox:function(t){var a=e(t);a.length>0&&a.addClass("dd-checkbox").append('<div class="dd-checkbox-indicator"></div>')}},ckdc.form.ddCheckbox(".woocommerce-form__label-for-checkbox:not(.dd-checkbox), .login label[for=rememberme]:not(.dd-checkbox)"),e(document.body).on("updated_checkout",function(){ckdc.form.ddCheckbox(".woocommerce-form__label-for-checkbox:not(.dd-checkbox)")}),ckdc.header=function(){var t=document.documentElement,a=jQuery("#header"),n=-1,r=!1,o=50,s=350,i=!1,c=-1,d=!1,l="none",u=document.querySelector("#postmenu ul"),f=0,p=0,m=0,h=0,v=window.matchMedia("(min-width: 768px)"),g=null,y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function k(){f=u.scrollLeft,p=u.scrollWidth,m=u.offsetWidth,p>m&&0!=f&&m!=p-f?(l="both",document.querySelector("#postmenu-nav button.left").disabled=!1,document.querySelector("#postmenu-nav button.right").disabled=!1):m==p-f&&p>m?(l="left",document.querySelector("#postmenu-nav button.left").disabled=!1,document.querySelector("#postmenu-nav button.right").disabled="disabled"):0==f&&p>m?(l="right",document.querySelector("#postmenu-nav button.right").disabled=!1,document.querySelector("#postmenu-nav button.left").disabled="disabled"):(l="none",document.querySelector("#postmenu-nav button.left").disabled="disabled",document.querySelector("#postmenu-nav button.right").disabled="disabled"),document.getElementById("postmenu").setAttribute("data-overflowing",l),y(k)}null==u||document.documentElement.classList.contains("touch")||(document.querySelector("#postmenu-nav button.right").addEventListener("click",function(){!0!==d&&(d=!0,e(u).animate({scrollLeft:u.scrollLeft+200},500,function(){d=!1}))}),document.querySelector("#postmenu-nav button.left").addEventListener("click",function(){!0!==d&&(d=!0,e(u).animate({scrollLeft:u.scrollLeft-200},500,function(){d=!1}))}),k()),function d(){if(h=window.pageYOffset||t.scrollTop,c==h||document.body.classList.contains("menu-active"))return y(d),!1;h>=o?a.addClass("header-page"):a.removeClass("header-page"),r||(c-h<-20?(0==i&&(n=a.height(),s=Math.max(350,h-n)),i=!0):(1==i&&(n=a.height(),s=Math.max(350,h-n)),i=!1)),h>s+n?(a.css("top","-180px"),r=!1):h>s?(a.css("top",-Math.round(h-s)+"px"),r=!0,e(".user-item.sub-menu-active").removeClass("sub-menu-active")):(e("body").hasClass("admin-bar")?a.css("top",e("html").css("marginTop")):a.css("top","0"),r=!1),c=h,y(d)}(),e(".sub-menu-btn, #header-login-btn").click(function(t){return e(this).parent().toggleClass("sub-menu-active"),t.preventDefault(),e("#header-login.display-help").removeClass("display-help"),!1}),e("#main-nav > li:not(.user-item-login) > a").on("mouseenter",function(){var t=this,a=null,n=400;null!=g&&(clearTimeout(g),g=null),v.matches&&((a=e("#header")).hasClass("show-sub-menu")&&(n=0),g=setTimeout(function(){g=null,a.addClass("show-sub-menu").find(".sub-menu-active").removeClass("sub-menu-active"),e(t).parent().addClass("sub-menu-active")},n))}),e("#main-nav li.no-click > a").removeAttr("href"),e("#header").on("mouseleave",function(){null!=g&&(clearTimeout(g),g=null),v.matches&&e("#header").removeClass("show-sub-menu").find(".sub-menu-active:not(.user-item-login)").removeClass("sub-menu-active")}),e("#header-login form.login .lost-password a").click(function(t){return e("#header-login").addClass("working"),e("#header-login .help-content").load(e(t.target).attr("href")+" #content .entry",function(){e("#header-login").removeClass("working").addClass("display-help"),e("#header-login .help-content").prepend('<span class="help-close"></span>')}),t.preventDefault(),!1}),e("#header-login").on("click",".help-close",function(t){e("#header-login").removeClass("display-help")}),e("#header-login form.login").on("submit",function(t){t.preventDefault(),ckdc.form.clearFormValidation("#header-login form.login");var a=!1,n=e("#header-login form.login"),r=n.find('[name="ckdc_email"]').val();ckdc.util.isEmpty(r)&&(ckdc.form.addInputError('#header-login form.login [name="ckdc_email"]',ckdc.s.login_empty_email),a=!0);var o=n.find('[name="ckdc_password"]').val();return ckdc.util.isEmpty(o)&&(ckdc.form.addInputError('#header-login form.login [name="ckdc_password"]',ckdc.s.login_empty_password),a=!0),!a&&(jQuery.post({dataType:"json",url:ckdc.ajaxurl,data:{action:"ckdclogin",ckdc_email:r,ckdc_password:o,ckdc_remember:n.find('[name="ckdc_rememberme"]').is(":checked"),ckdc_security:n.find('[name="member_login_nonce"]').val()},beforeSend:function(){e("#header-login").addClass("working")},success:function(e){var t=n.find(".form-message"),a="object"==typeof e&&e.hasOwnProperty("loggedin")&&1==e.loggedin;a?t.addClass("success"):t.addClass("error"),"object"==typeof e&&e.hasOwnProperty("message")&&e.message.length>0&&t.html(e.message),a&&(ckdc.util.isEmpty(e.redirect_to)?document.location.reload(!0):(ckdc.simplebox.init({callbackClose:function(){document.location.reload(!0)}}),ckdc.simplebox.open(e.redirect_to),ckdc.simplebox.setupContent()))},complete:function(){e("#header-login").removeClass("working")}}),!1)})}(),ckdc.jspopup={setup:function(t){e(".ckdc-js-popup",t).off("mouseenter.jspopup touchstart.jspopup").on("mouseenter.jspopup touchstart.jspopup",ckdc.jspopup.popupActivateEvent)},popupActivateEvent:function(t){var a=e(t.target).closest(".ckdc-js-popup");if("touchstart"===t.type&&a.hasClass("no-mobile-popup"))return!0;ckdc.jspopup.activate(a,t)},activate:function(e,t){if(e.hasClass("ckdc-js-popup")&&(e.removeClass("ckdc-js-popup").off("mouseenter.jspopup touchstart.jspopup"),e.hasDataAttr("js-popup"))){var a=e.data("js-popup").replace(/\\\'/g,"'").replace(/\\\"/g,'"');e.addClass("ckdc-popup-anchor").append(a),e.removeAttr("data-js-popup"),"touchstart"===t.type&&ckdc.touchpopup.activatePopup(e),ckdc.setup.setupContent(e)}}},ckdc.setup.addSetupContent("js-popup",ckdc.jspopup.setup),ckdc.touchpopup={setupOnce:function(){e(document).on("touchstart.touchpopup",".ckdc-popup-anchor",ckdc.touchpopup.touchAnchorEvent),ckdc.body.on("touchstart.touchpopup",ckdc.touchpopup.touchBodyEvent)},touchAnchorEvent:function(t){var a=e(t.currentTarget);return!!a.hasClass("active")||(ckdc.touchpopup.activatePopup(a),t.preventDefault(),!1)},touchBodyEvent:function(t){return!ckdc.body.hasClass("popup-active")||(e(t.target).closest(".ckdc-popup-anchor").length>0||(ckdc.body.removeClass("popup-active"),void e(".ckdc-popup-anchor.active").removeClass("active")))},activatePopup:function(e){e.addClass("active"),ckdc.body.addClass("popup-active")}},ckdc.setup.addSetupOnce("touch-popup",ckdc.touchpopup.setupOnce),ckdc.lazyload={doLazyLoading:function(){"undefined"==typeof lazyloader?lazyloader=new LazyLoad({elements_selector:".lazy",load_delay:0,threshold:300,use_native:!1,callback_loaded:function(e){void 0!==performance.now&&(performance.now()<=3e3||e.closest(".carousel")||e.classList.add("lazy-fade-in"))}}):lazyloader.update()}},ckdc.setup.addSetupOnce("init-lazyloader",ckdc.lazyload.doLazyLoading),ckdc.setup.addSetupContent("lazyload",ckdc.lazyload.doLazyLoading),e(document).on("click",'a[href*="#"]',function(t){if(!e(this).is("a"))return!0;if(window.location.host!=this.host||window.location.pathname!=this.pathname)return!0;var a=this.hash.substr(1),n=e('[name="'+a+'"]');return!n.length||(t.preventDefault(),e("html, body").animate({scrollTop:n.offset().top},500,function(){window.location.hash=a}),!1)}),ckdc.url={setURLEndpointValue:function(e,t,a){var n=new RegExp("/"+t+"/([^/?#]*)"),r=e.match(n);if(r&&void 0!==r[0])return e.replace(r[0],"/"+t+"/"+a);var o=e.match(/([^?#]*)(\?[^#]*)?(#.*)?/);if(!o||void 0===o[1])return e;var s=o[1];return"/"!=s.slice(-1)&&(s+="/"),s=s+t+"/"+a,void 0!==o[2]&&(s+=o[2]),void 0!==o[3]&&(s+=o[3]),s},setLocationEndpointValue:function(e,t){"function"==typeof window.history.replaceState&&window.history.replaceState({},document.title,ckdc.url.setURLEndpointValue(window.location.href,e,t))}},ckdc.done=!0}),ckdc.ready(function(){jQuery("#comments").find(".pop-commentlist .comment-wrapper").each(function(){var e=jQuery(this);(e.height()>300&&e.css("height","300px"),e.children(".comment-wrapper-inner").height()<=e.height())||e.siblings(".comment-expand").css("display","block").show().click(function(e){e.preventDefault();var t=jQuery(this),a=t.siblings(".comment-wrapper");return a.stop().animate({"max-height":a.children(".comment-wrapper-inner").height()},250,function(){t.remove()}),!1})}),jQuery("#comment-reply-quote").removeClass("hide").click(function(e){var t=jQuery("#comment-reply-parent");if(t.length<=0)return!1;var a=parseInt(t.val(),10);if(!a||a<=0)return!1;var n=jQuery("#comment-content-"+a);if(!n.length)return!1;var r=n.html();if(r.length<=0)return!1;r="<blockquote>\r"+r+"\r</blockquote>";var o=jQuery("#comment"),s=o.val();return s.length>0&&(r=s+"\r\n"+r),o.val(r),!1}),jQuery("a.comment-reply-link").click(function(e){var t=jQuery(this),a=t.attr("id").split("-"),n=parseInt(a.pop(),10);if(!jQuery("#comment-"+n).length)return!0;var r=t.attr("author"),o=t.attr("number");jQuery("#comment-reply-parent").val(n);var s=jQuery("#comment-reply-status-wrapper");return s.length>=1&&(jQuery("#comment-reply-nr",s).text(o),jQuery("#comment-reply-author",s).text(r)),s.removeClass("hide").show(),u(),jQuery("#comment").focus(),e.preventDefault(),!1}),jQuery("#tiny-nav .menu .menu-item-has-children").click(function(e){var t=jQuery(e.target).closest(".menu-item");return!t.hasClass("menu-item-has-children")||(t.toggleClass("sub-menu-expanded").children(".sub-menu").slideToggle("fast"),e.preventDefault(),!1)}),jQuery(".main_menu_submenu_toggle").click(function(e){var t=jQuery(e.currentTarget).siblings(".main_menu_submenu");return t.is(":visible")?t.hide():(t.closest(".menu-item").find(".main_menu_submenu").hide(),t.show(),jQuery(".s",t).focus()),e.preventDefault(),!1});var e=jQuery("#huge-feature-image"),t=(jQuery("#navigation-wrapper"),jQuery(".huge-feature-content"));function a(){if(e.length&&!window.matchMedia("print").matches&&t.length>0){var a=t.innerHeight(),n=t.position().top,r=e.innerHeight();if(jQuery("body").hasClass("header-transparent")&&n<34&&(r-=130),a<r){var o=parseInt(t.data("position"),10),s=o=isNaN(o)?50:Math.max(1,Math.min(100,o)),i=100-o,c=r-a,d=Math.ceil(c*s/100),l=Math.ceil(c*i/100);jQuery("body").hasClass("header-transparent")&&n<34&&(d+=130);var u=d+"px 0 "+l+"px 0";t.css("margin",u)}else t.css("margin","0")}}function n(e){var t=ckdc.window.height(),a=ckdc.window.scrollTop()+t;return e.offset().top-t<a}a(),setTimeout(function(){a()},50),jQuery("img",e).load(function(){a()}),ckdc.window.resize(function(){ckdc.image.updateAllOrientation(),a()}),ckdc.window.width()<ckdc.fullSizeBreakpoint&&"undefined"!=typeof infinite_scroll&&jQuery(infinite_scroll.contentSelector).infinitescroll("pause");var r=jQuery("#newsfeed-link");function o(){if(!(void 0===r||r.length<=0)&&n(r)){var e=r.attr("href");if(ckdc.window.off("scroll",o),r=void 0,void 0!==e){jQuery("#newsfeed-wrapper").remove();var t=jQuery("#above-footer-sidebar");if(t.length||(t=jQuery("#footer-widgets")),t.length||(t=jQuery("#footer")),t.length){t.before(jQuery('<div class="fix"></div><div id="newsfeed-loader"><i class="fa fa-spinner fa-pulse"></i></div><div class="newsfeed-load-wrapper section-fixed-width" id="newsfeed-load" style="display: none;"></div>'));var a=jQuery("#newsfeed-load");a.load(e+" #content",function(){jQuery("#newsfeed-loader").remove(),a.slideDown(),"function"==typeof window.fbAsyncInit&&window.fbAsyncInit(),_()})}}}}void 0!==r&&r.length>=1&&(ckdc.window.on("scroll",o),setTimeout(function(){o()},500));var s=jQuery("#newsfeed-post-link");function i(){if(!(void 0===s||s.length<=0)&&n(s)){var e=s.attr("href");if(ckdc.window.off("scroll",i),s=void 0,void 0!==e){jQuery("#newsfeed-post-wrapper").remove();var t=jQuery("#main");if(t.length){t.append(jQuery('<div class="fix"></div><div id="newsfeed-loader"><i class="fa fa-spinner fa-pulse"></i></div><div class="newsfeed-load-wrapper section-fixed-width" id="newsfeed-post-load" style="display: none;"></div>'));var a=jQuery("#newsfeed-post-load");a.load(e+" #main .news-archive, #main .nav-entries",function(){jQuery("#newsfeed-loader").remove(),a.slideDown(),_()})}}}}void 0!==s&&s.length>=1&&(ckdc.window.on("scroll",i),setTimeout(function(){i()},500)),ckdc.body.on("click",".hidden-wrapper a.expand, .hidden-wrapper a.collapse",function(e){var t=jQuery(e.target),a=t.parents(".hidden-wrapper"),n=a.children(".hidden-content");return t.hasClass("collapse")?(n.show(),a.hasClass("animate")?n.slideUp(200):n.hide(),t.hide(),a.find("a.expand").show()):t.hasClass("expand")&&(t.hide(),a.find("a.collapse").show(),a.hasClass("animate")?n.slideDown(200):n.show()),e.preventDefault(),!1});var c=jQuery("#respond"),d=jQuery(".logged-in-as, .form-submit, .comment-form-line",c),l=jQuery("#comment",c);function u(){l.off("click blur",u),d.is(":visible")||(d.slideDown(),l.animate({height:"250px"}).removeClass("inactive"))}c.length>0&&(d.hide(),l.attr("rows",3).addClass("inactive"),l.on("click blur",u));var f=jQuery("#ckdc-survey-wrapper");function p(e){return e.preventDefault(),!1}function m(e){!function(e){var t=e.data("rating");void 0!==t&&(t=Math.max(t,0),t=Math.min(t,5),e.attr("title",t),e.find(".stars-rating").css("width",t+"em"))}(jQuery(this))}function h(e,t){if(!e.hasClass("stars"))return e.data("rating")>0?"0":"1";var a=e.offset(),n=t.pageX-a.left,r=Math.max(1,e.width());return Math.min(5,Math.max(1,Math.ceil(5*n/r)))}function v(e){var t=jQuery(this),a=h(t,e);t.attr("title",a),t.find(".stars-rating").css("width",a+"em")}function g(e){var t=jQuery(this),a=h(t,e);return function(e){if(y())return;e.hasClass("stars")&&(e.off("mouseleave",m),e.off("mousemove",v));e.off("click",g),e.on("click",p)}(t),e.preventDefault(),"undefined"!=typeof ckdc&&(t.removeClass("rating-open").addClass("rating-closed rating-pending"),t.after(' <div class="rating-response-wrapper rating-response-'+jQuery.now()+'"><i class="fa fa-spinner fa-pulse rating-working"></i></div>'),jQuery.post(ckdc.ajaxurl,{action:"ckdc_rate",id:t.data("id"),key:t.data("key"),nonce:t.data("nonce"),args:t.attr("data-args")?t.data("args"):"",v:a},function(e){var a=function(e){return ckdc.util.parseJSON(e)}(e);if(function(e){return ckdc.ajax.resultValid(e)}(a))return a.hasOwnProperty("data")&&a.data?(t.parents(".rating-wrapper").replaceWith(a.data),void _()):void(a.hasOwnProperty("msg")&&a.msg?t.after(' <div class="rating-response-wrapper"><div class="rating-response">'+a.msg+"</div></div>"):t.after(' <div class="rating-response-wrapper"><div class="rating-response">Bad response from server!</div></div>'));t.after(' <div class="rating-response-wrapper"><div class="rating-response">Could not connect to server!</div></div>')}),!1)}function y(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function k(e){y()||(e.addClass("js-on"),e.hasClass("stars")&&(e.on("mouseleave",m),e.on("mousemove",v)),e.on("click",g))}function w(e){jQuery(".footer-language").removeClass("show-languages"),jQuery("body").off("click",w)}f.length>0&&setTimeout(function(){f.slideDown()},1e3),k(jQuery(".rating-open:not(.js-on)")),jQuery(".rating-closed").on("click",p),jQuery(".preview-item, .preview-item a").on("focus touchstart",function(e){var t=jQuery(this);(t.hasClass(".preview-item")||(t=t.closest(".preview-item")).length)&&t.toggleClass("active")}),jQuery(".footer-language .current-language").on("click",function(e){return jQuery(".footer-language").toggleClass("show-languages"),jQuery(".footer-language").hasClass("show-languages")?jQuery("body").on("click",w):jQuery("body").off("click",w),e.preventDefault(),!1}),jQuery("body").on("click",".change-prefered-language",function(e){var t=e.currentTarget.getAttribute("data-language");return Cookies.set("ckdc-prefered-language",t,{expires:365}),!0}),jQuery(".ckdc-popup-click").on("click",function(e){return jQuery(this).toggleClass("active"),e.preventDefault(),!1}),jQuery(".recipe-steps-item").on("click",function(){jQuery(this).toggleClass("done")}),jQuery(".more-nutrients-title").on("click",function(){jQuery(this).parent().toggleClass("show")});var b=jQuery(".ckdc-recipe-ingredients"),j=jQuery(".ckdc-mealplan-settings"),C=jQuery(".ckdc-servings"),x=Cookies.get("ckdc-unit"),Q=b.data("default-unit");b.length>0&&void 0!==x&&void 0!==Q&&x!=Q&&b.removeClass("ingredient-show-"+Q).addClass("ingredient-show-"+x);var E=j.data("default-unit");function _(){k(jQuery(".rating-open:not(.js-on)")),jQuery(".rating-closed").on("click",p),setTimeout(function(){jQuery(".fadeaway").fadeOut(1500,function(){jQuery(this).remove()})},1e3),L(),M(),ckdc.setup.setupContent()}function S(e){if(e.data("focus-timeout",0),!e.hasClass("active")){var t=e.find(".live-search-result");if(t.length){e.addClass("active"),t.show(),jQuery(window).width()>600&&e.siblings(".live-search-overlay").stop().css({backgroundColor:"rgba(255,255,255,0)"}).addClass("active").animate({backgroundColor:"rgba(255,255,255,0.95)"},"slow");var a=jQuery(".flexslider");a.length&&"function"==typeof a.flexslider&&a.flexslider("stop")}}}function O(e,t){if(t||!e.is(":hover")&&!e.find("input").is(":focus")){e.data("focus-timeout",0),e.removeClass("active"),jQuery(window).width()>600&&e.find(".live-search-result").hide(),e.siblings(".live-search-overlay").stop().animate({backgroundColor:"rgba(255,255,255,0)"},"slow",function(){jQuery(this).removeClass("active")});var a=jQuery(".flexslider");a.length&&"function"==typeof a.flexslider&&a.flexslider("play")}}j.length>0&&void 0!==x&&void 0!==E&&x!=E&&(j.removeClass("ingredient-show-"+E).addClass("ingredient-show-"+x),b.length>0&&void 0===Q&&b.removeClass("ingredient-show-"+E).addClass("ingredient-show-"+x)),jQuery(".ckdc-servings-select-unit").on("click",function(){var e=jQuery(this);b.removeClass("ingredient-show-"+e.data("remove-unit")).addClass("ingredient-show-"+e.data("add-unit")),j.removeClass("ingredient-show-"+e.data("remove-unit")).addClass("ingredient-show-"+e.data("add-unit")),Cookies.set("ckdc-unit",e.data("add-unit"),{expires:365})}),C.find("select").on("change",function(){var e=jQuery(this).val();e&&(b.each(function(){var t=jQuery(this),a=e,n=e;t.data("servings-mult")>1&&(a=Math.round(e*t.data("servings-mult")),n=e+" + "+e),a==t.data("default-servings")?t.parents(".recipe-wrapper").removeClass("portions-scaled"):t.parents(".recipe-wrapper").addClass("portions-scaled"),t.find(".ingredient-value").each(function(e,t){var n=jQuery(this);try{var r=n.data("servings")}catch(e){return}a in r&&(n.html(r[a].value),n.parents(".ckdc-ingredient").addClass(r[a].set).removeClass(r[a].remove))}),t.find(".ckdc-servings .value:not(select)").html(n)}),1==e?C.removeClass("plural").addClass("singular"):C.removeClass("singular").addClass("plural"),j.find(".ckdc-servings .value:not(select)").html(e),ckdc.url.setLocationEndpointValue(ckdc.s.servings,e),jQuery(".mealplan-menu a.tab-menu-item").each(function(){var t=jQuery(this);t.attr("href",ckdc.url.setURLEndpointValue(t.attr("href"),ckdc.s.servings,e))}))}),jQuery("form.live-search-form").on("focus mouseenter",function(e){var t=jQuery(this).closest(".live-search-form-wrapper"),a=t.data("focus-timeout");a>0&&(clearTimeout(a),t.data("focus-timeout",0)),S(t)}).on("focusout mouseleave",function(e){var t=jQuery(this).closest(".live-search-form-wrapper"),a=t.data("focus-timeout");a>0&&clearTimeout(a),a=setTimeout(function(){O(t,!1)},200),t.data("focus-timeout",a)}).find(".s").on("keyup",function(e){var t=jQuery(this).closest(".live-search-form");if(!(t.data("busy")>0)){var a=t.data("timeout");a>0&&clearTimeout(a),a=setTimeout(function(){!function e(t){t.data("timeout",0);var a=t.serialize();if(t.data("last-search")!=a){t.data("busy",1),t.data("last-search",a),t.find(".btn-fa").removeClass("fa-search").addClass("fa-spinner fa-pulse fa-fw");var n=t.serializeArray();if(t.find(".s").val().length<3)return t.find(".live-search-result").remove(),t.data("busy",0),t.find(".btn-fa").removeClass("fa-spinner fa-pulse fa-fw").addClass("fa-search"),void O(t.closest(".live-search-form-wrapper"),!0);n.push({name:"action",value:"ckdc_live_search"}),jQuery.post(ckdc.ajaxurl,n,function(n){var r=t.serialize();if(a==r){var o=t.find(".live-search-result");"-1"==n||"0"==n?o.slideUp(function(){o.remove()}):(o.length>0?o.replaceWith(n):t.append(n),ckdc.setup.setupContent(t),S(t.closest(".live-search-form-wrapper"))),t.find(".btn-fa").removeClass("fa-spinner fa-pulse fa-fw").addClass("fa-search"),t.data("busy",0)}else e(t)})}}(t)},200),t.data("timeout",a)}});var T=jQuery("#advanced_search_form");function A(){var e=T.serialize();if(T.data("last-search")!=e){T.data("busy",1),T.data("last-search",e),T.find(".btn-fa").removeClass("fa-search").addClass("fa-spinner fa-pulse fa-fw");var t=T.serializeArray(),a=T.find(".s").val(),n=jQuery.grep(t,function(e,t){return!e.hasOwnProperty("name")||"sp"!=e.name}),r="?"+jQuery.param(n);t.push({name:"action",value:"ckdc_search"}),jQuery.post(ckdc.ajaxurl,t,function(t){var n=T.serialize();if(e==n){if(a.length>0?document.title=ckdc.s.search_title.replace(/%s/,a):document.title=ckdc.s.empty_search_title,"function"==typeof window.history.replaceState){var o=window.location.href;o=o.replace(/page\/[0-9]+\/?/i,"").replace(/\?.*$/i,"")+r,window.history.replaceState({},document.title,o)}T.find(".btn-fa").removeClass("fa-spinner fa-pulse fa-fw").addClass("fa-search"),T.data("busy",0),"-1"!=t&&"0"!=t&&0!=t.length&&(jQuery("#search-result").replaceWith(t),_())}else A()})}}function D(e){if(jQuery(e.target).closest("a").length)return!0;var t=jQuery(this);t.find(".compact-split").remove(),t.find(".compact-only").remove(),t.find(".compact-part").slideDown("fast",function(){t.removeClass("compact").addClass("compact-expanded").removeAttr("title")})}function L(){jQuery(".compact:not(.js-on)").addClass("js-on").on("click",D)}function z(e){var t=jQuery(this),a=t.attr("href"),n=t.attr("data-ajax-href"),r=n||a;if(!r)return e.preventDefault(),!1;if(t.hasClass("busy"))return e.preventDefault(),!1;t.addClass("busy");var o=t.hasClass("ajax-load-replace"),s=null,i=jQuery('<span class="ajax-load-working"><i class="fa fa-spinner fa-pulse rating-working"></i></span>');return o?(s=t.closest(".ajax-load-wrapper"),i.addClass("ajax-load-replace").prependTo(s)):i.insertAfter(t),"function"==typeof window.history.replaceState&&window.history.replaceState({},document.title,a),jQuery.get(r,function(e){if(i.remove(),o)s.replaceWith(e);else{var a=jQuery('<div class="ajax-load-content">'+e+"</div>");t.after(a),a.hide().slideDown(200,function(){_()}),t.slideUp(100,function(){t.remove()})}_()}),e.preventDefault(),!1}function M(){jQuery(".ajax-load").removeClass("ajax-load").addClass("ajax-load-ready").on("click",z)}T.find("input, select").on("change keyup",function(e){var t=jQuery(this);if(t.is(":checkbox")){var a=t.closest(".advanced_search_tax"),n="";a.find(":checkbox:checked").siblings("label").each(function(e){n.length&&(n+=", "),n+=jQuery(this).html()}),a.find(".selected-terms").html(n)}if(t.is('[name="st"]')){var r=t.val();T.removeClass(),T.addClass("search-"+r),jQuery("#search-result").html("")}if(!(T.data("busy")>0)){var o=T.data("timeout");if(o>0&&(clearTimeout(o),T.data("timeout",0)),"keyup"==e.type){var s=T.find(".s").val().length;if(s>=1&&s<3)return;o=setTimeout(function(){A()},500),T.data("timeout",o)}else A()}}),void 0!==jQuery.bigfoot&&jQuery.bigfoot({buttonMarkup:'<div class=" bigfoot-footnote__container"><sup class="footnote-sup bigfoot-footnote__button" id="{{SUP:data-footnote-backlink-ref}}" data-footnote-number="{{FOOTNOTENUM}}" data-footnote-identifier="{{FOOTNOTENUM}}" data-bigfoot-footnote="{{FOOTNOTECONTENT}}"><span class="footnote-link">{{FOOTNOTENUM}}</span></sup></div>'}),jQuery("a.share-fb").on("click",function(e){if("undefined"==typeof FB)return!0;var t=jQuery(this).data("posturl");return FB.ui({method:"share",href:t},function(e){}),e.preventDefault(),!1}),jQuery("a.user-mark").on("click",function(e){var t=jQuery(this);if(t.hasClass("busy"))return e.preventDefault(),!1;t.addClass("busy");var a=t.hasClass("user-mark-on");return jQuery.post(ckdc.ajaxurl,{action:"ckdc_mark_post",post_id:t.data("postid"),mark:a?"off":"on",type:t.data("marktype"),nonce:t.data("marknonce")},function(e){"on"==e?t.removeClass("user-mark-off").addClass("user-mark-on"):"off"==e&&t.removeClass("user-mark-on").addClass("user-mark-off"),t.removeClass("busy")}),e.preventDefault(),!1}),document.getElementsByClassName("visitor-mark")&&jQuery(".visitor-mark").on("click",function(e){jQuery(".when-user-mark-off").removeClass("fa-heart-o").addClass("fa-heart");var t=jQuery(this),a=t.data("title"),n=t.data("desc"),r=t.data("url"),o=ckdc.s.popup_logo,s=ckdc.s.popup_logo_alt,i=ckdc.s.popup_btn_title,c=ckdc.s.popup_btn_class;if(null==a)return!0;var d='<div class="favourite-popup-card">   <img class="card-img" src="'+o+'" alt="'+s+'">  <div class="favourite-popup-body">    <h5 class="card-title"> '+a+'</h5>    <p class="card-text">'+n+'</p>    <a href="'+r+'" class="btn gold '+c+'">'+i+"</a>  </div></div>";return ckdc.simplebox.init({memberPrompt:!0}),ckdc.simplebox.open(d),ckdc.simplebox.setupContent(),e.preventDefault(),!1}),L(),M(),jQuery(".scrolldown").on("click",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,jQuery("html, body").animate({scrollTop:jQuery(jQuery(this).attr("href")).offset().top-50},500)}),ckdc.html.addClass("jsready")});
//# sourceMappingURL=canvas-kd.min.js.map
