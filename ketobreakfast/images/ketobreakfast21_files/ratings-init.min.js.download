jQuery(document).ready(function(){const t=t=>{jQuery.post({type:"POST",dataType:"text",url:ckdc.ajaxurl,data:{nonce:ckdc.rating.nonce,action:"submit_rating",dataType:"json",recipeIdToken:t.itemId,rating:t.rating,feedback:t.feedback},success:e=>{"object"==typeof dataLayer&&dataLayer.push({event:"recipeRated",rating:t.rating,recipeId:t.itemId});try{const a=(t=>{try{return JSON.parse(t)}catch(e){try{return JSON.parse(t.substr(t.indexOf('{"')))}catch{throw e}}})(e);t.success(a.data),document.querySelectorAll(".rate_recipe_btn").forEach(t=>t.remove())}catch{t.error(ckdc.rating.translations.error)}}}).fail(()=>{t.error(ckdc.rating.translations.error)})},e=ratings.Ratings({...ckdc.rating,onSubmitRating:t}),a={...ckdc.rating,ratingTarget:ckdc.rating.ratingMobileTarget,detailedRatingTarget:ckdc.rating.detailedRatingMobileTarget},r=ratings.Ratings({...a,onSubmitRating:t}),n=document.getElementById("rate_recipe_btn_desktop"),i=document.getElementById("rate_recipe_btn_mobile");n&&n.addEventListener("click",()=>e.showSubmitRatingModal()),i&&i.addEventListener("click",()=>r.showSubmitRatingModal())});
//# sourceMappingURL=ratings-init.min.js.map
